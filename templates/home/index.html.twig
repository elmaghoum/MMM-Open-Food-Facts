{% extends 'base.html.twig' %}

{% block title %}Accueil - MMM - Mieux Manger en Marne{% endblock %}

{% block main_class %}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
{% endblock %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50">
    {# Hero Section #}
    <section class="container mx-auto px-4 py-16 text-center">
        <div class="max-w-4xl mx-auto">
            <div class="text-6xl mb-6 text-green-600">
                <i class="bi bi-basket"></i>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-800 px-4">
                Mieux Manger en Marne
            </h1>
            <p class="text-xl text-gray-600 mb-8 leading-relaxed px-4">
                Comparez, analysez et composez votre liste de course pour une alimentation plus saine grâce aux données de <strong>Open Food Facts</strong>
            </p>
            
            {% if app.user %}
                <a href="{{ path('dashboard') }}" class="inline-block bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-blue-700 transition shadow-lg">
                    <i class="bi bi-speedometer2 me-2"></i>Accéder à mon Dashboard
                </a>
            {% else %}
                <a href="{{ path('login') }}" class="inline-block bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:bg-green-700 transition shadow-lg">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Se connecter
                </a>
            {% endif %}
        </div>
    </section>

    {# Contexte & But #}
    <section class="container mx-auto px-4 py-16">
        <div class="max-w-5xl mx-auto">
            <div class="grid md:grid-cols-2 gap-8">
                {# Contexte #}
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="text-5xl mb-4 text-blue-600">
                        <i class="bi bi-bullseye"></i>
                    </div>
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">Notre Mission</h2>
                    <p class="text-gray-600 leading-relaxed mb-4">
                        Dans un monde où l'information nutritionnelle peut être complexe et difficile à comparer, 
                        <strong>MMM</strong> vous aide à faire des choix éclairés pour votre santé.
                    </p>
                    <p class="text-gray-600 leading-relaxed">
                        Grâce à notre plateforme, comparez facilement les produits alimentaires et constituez 
                        une liste de course adaptée à vos objectifs nutritionnels.
                    </p>
                </div>

                {# Open Food Facts #}
                <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="text-5xl mb-4 text-green-600">
                        <i class="bi bi-database"></i>
                    </div>
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">Open Food Facts</h2>
                    <p class="text-gray-600 leading-relaxed mb-4">
                        Nous utilisons la base de données <strong>Open Food Facts</strong>, l'un des plus grands 
                        agrégateurs de produits alimentaires au monde avec :
                    </p>
                    <ul class="space-y-2 text-gray-600">
                        <li class="flex items-start">
                            <i class="bi bi-check-circle-fill text-green-500 me-2 mt-1"></i>
                            <span>Plus de <strong>3 millions de produits</strong> référencés</span>
                        </li>
                        <li class="flex items-start">
                            <i class="bi bi-check-circle-fill text-green-500 me-2 mt-1"></i>
                            <span>Données nutritionnelles complètes</span>
                        </li>
                        <li class="flex items-start">
                            <i class="bi bi-check-circle-fill text-green-500 me-2 mt-1"></i>
                            <span>Nutri-Score, NOVA, allergènes, additifs...</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    {# Fonctionnalités #}
    <section class="container mx-auto px-4 py-16 bg-white/50">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-12 text-gray-800">
                <i class="bi bi-grid-3x3-gap me-2"></i>Nos Widgets Interactifs
            </h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                {# Widget 1 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition">
                    <div class="text-5xl mb-3 text-blue-600">
                        <i class="bi bi-search"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Recherche Produits</h3>
                    <p class="text-gray-600 text-sm">
                        Recherchez par nom ou code-barres et découvrez toutes les informations nutritionnelles en un coup d'œil.
                    </p>
                </div>

                {# Widget 2 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition">
                    <div class="text-5xl mb-3 text-yellow-600">
                        <i class="bi bi-trophy"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Comparaison Nutri-Score</h3>
                    <p class="text-gray-600 text-sm">
                        Comparez jusqu'à 5 produits selon leur Nutri-Score (A à E) pour choisir les plus sains.
                    </p>
                </div>

                {# Widget 3 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition">
                    <div class="text-5xl mb-3 text-purple-600">
                        <i class="bi bi-lightning-charge"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Score NOVA</h3>
                    <p class="text-gray-600 text-sm">
                        Identifiez le degré de transformation des aliments (1 à 4) pour éviter l'ultra-transformé.
                    </p>
                </div>

                {# Widget 4 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition">
                    <div class="text-5xl mb-3 text-green-600">
                        <i class="bi bi-bar-chart"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Sucre & Sel</h3>
                    <p class="text-gray-600 text-sm">
                        Visualisez et comparez les taux de sucre et de sel entre différents produits.
                    </p>
                </div>

                {# Widget 5 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition">
                    <div class="text-5xl mb-3 text-pink-600">
                        <i class="bi bi-pie-chart"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Composition Nutritionnelle</h3>
                    <p class="text-gray-600 text-sm">
                        Analysez la répartition des macronutriments (protéines, glucides, lipides) d'un produit.
                    </p>
                </div>

                {# Widget 6 #}
                <div class="bg-white rounded-xl shadow-md p-6 hover:shadow-xl transition border-2 border-green-400">
                    <div class="text-5xl mb-3 text-orange-600">
                        <i class="bi bi-cart-check"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-800">Ma Liste de Course</h3>
                    <p class="text-gray-600 text-sm">
                        <strong>Widget principal !</strong> Sauvegardez vos produits favoris et constituez une liste saine.
                    </p>
                </div>
            </div>
        </div>
    </section>

    {# Données disponibles #}
    <section class="container mx-auto px-4 py-16">
        <div class="max-w-5xl mx-auto bg-gradient-to-r from-blue-500 to-green-500 rounded-2xl shadow-2xl p-8 text-white">
            <h2 class="text-4xl font-bold text-center mb-8">
                <i class="bi bi-journal-text me-2"></i>Informations Disponibles
            </h2>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-tag me-1"></i>Général
                    </strong>
                    Marque, catégories, origine, lieux de fabrication, labels, emballage
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-heart-pulse me-1"></i>Nutrition
                    </strong>
                    Calories, protéines, glucides, lipides, fibres, sel, vitamines, minéraux
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-shield-check me-1"></i>Qualité
                    </strong>
                    Nutri-Score (A-E), Score NOVA (1-4), additifs, allergènes
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-leaf me-1"></i>Composition
                    </strong>
                    Liste d'ingrédients, huile de palme, traces allergènes
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-activity me-1"></i>Détails nutritionnels
                    </strong>
                    Acides gras, oméga-3/6/9, cholestérol, alcool
                </div>
                
                <div class="bg-white/10 rounded-lg p-4 backdrop-blur">
                    <strong class="block mb-2">
                        <i class="bi bi-camera me-1"></i>Images
                    </strong>
                    Photos du produit, tableau nutritionnel, liste d'ingrédients
                </div>
            </div>

            <p class="text-center mt-8 text-white/90 text-sm">
                Et bien plus encore ! Toutes les données proviennent de la base collaborative <strong>Open Food Facts</strong>
            </p>
        </div>
    </section>

    {# Call to Action #}
    <section class="container mx-auto px-4 py-16 text-center">
        <div class="max-w-3xl mx-auto">
            <h2 class="text-4xl font-bold mb-6 text-gray-800">
                Prêt à mieux manger ?
            </h2>
            <p class="text-xl text-gray-600 mb-8">
                Connectez-vous et commencez à comparer vos produits dès maintenant !
            </p>
            
            {% if not app.user %}
                <a href="{{ path('login') }}" class="inline-block bg-gradient-to-r from-green-500 to-blue-500 text-white px-10 py-5 rounded-lg text-lg font-semibold hover:shadow-2xl transition transform hover:scale-105">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Commencer maintenant
                </a>
            {% endif %}
        </div>
    </section>

    {# Footer #}
    <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400 text-sm">
                © {{ 'now'|date('Y') }} MMM - Mieux Manger en Marne | 
                Données fournies par <a href="https://fr.openfoodfacts.org" target="_blank" class="text-green-400 hover:underline">Open Food Facts</a> | 
                Version démo
            </p>
        </div>
    </footer>
</div>
{% endblock %}